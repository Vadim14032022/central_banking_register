# Небольшие технические пояснения

 * Ознакомиться с pandas можно [здесь](https://gitlab.atp-fivt.org/courses-public/db2023-supplementary/global/-/blob/main/practice/seminars/10-indexes-dbconnectivity/examples/pandas/pandas.ipynb)
 * Быстрое ознакомление с тестированием в Python [здесь](https://habr.com/ru/post/121162/)
 * Для написания тестов рекомендую использовать [pytest](https://habr.com/ru/post/269759/) или [unittest](https://devpractice.ru/unit-testing-in-python-part-1/)
 * В примерах к тестам используется pytest.
 * В тестах к вашим запросам/вью/процедурам проверяем заранее известные свойства:
   * количество строчек, которые возвращены
   * что длина текстового поля не превышает `N`
   * значение колонки `C` лежит в интервале `I`, если Y
   * при входе в функцию значения `X` ожидаем `Y`, а при `Z` - должно быть исключение
 * Пошаговое заполнение, исполнение, тестирование прописываем в своих `.gitlab-ci.yml`, по аналогии с тем, как это сделано в `project-ci.yml`
 * В этом примере есть вспомогательный скрипт `utils/pypsql.py`, чтобы не ставить дополнительно консольного клиента для Postgres (`psql`)
   * скрипт использует переменные окружения `DBNAME`, `DBHOST`, `DBPORT`, `DBUSER`, `DBPASSWORD`
   * опция `--file` указывает путь к sql скрипту
   * опция `--cat` флаг выводить или нет содержимое sql скрипта
   * опция `--sql` sql скрипт передаем как строку
   * опция `--verbose` выводить содержимое ответа на запрос